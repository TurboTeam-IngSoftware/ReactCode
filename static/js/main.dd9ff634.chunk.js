(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{116:function(e,t,a){},117:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){"use strict";a.r(t);var o=a(3),r=a(1),n=a.n(r),i=a(13),c=a.n(i),l=(a(116),a(8)),s=a(10),u=(a(117),a(69)),d=a(0),j=a.p+"static/media/BCBLogo.64ce2888.png";var b=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),a=t[0],n=t[1],i=function(){return n(!1)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(d.b.Provider,{value:{color:"#fff"},children:Object(o.jsx)("nav",{className:"navbar",children:Object(o.jsxs)("div",{className:"navbar-container container",children:[Object(o.jsxs)(s.b,{to:"/",className:"navbar-logo",onClick:i,children:[Object(o.jsx)("img",{src:j,alt:"logo",className:"navbar-icon"}),"BCB TEst"]}),Object(o.jsx)("div",{className:"menu-icon",onClick:function(){return n(!a)},children:a?Object(o.jsx)(u.b,{}):Object(o.jsx)(u.a,{})}),Object(o.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.b,{to:"/",className:"nav-links",onClick:i,children:"Home"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.b,{to:"/articulos",className:"nav-links",onClick:i,children:"Art\xedculos"})}),0!==localStorage.getItem("name").length?Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsxs)(s.b,{to:"/login",className:"nav-links",onClick:i,children:[localStorage.getItem("name")+" "+localStorage.getItem("lastnm"),Object(o.jsx)("br",{})]})}):Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(s.b,{to:"/login",className:"nav-links",onClick:i,children:"Iniciar sesi\xf3n"})})]})]})})})})},m=a(16),p=(a(123),a.p+"static/media/header.0fc39ced.png");var h=function(){return Object(o.jsx)("div",{children:Object(o.jsx)("img",{src:p,alt:"headimg",className:"headimg"})})},F=(a(124),a.p+"static/media/homeimg.a2c63002.png");var g=function(){return Object(o.jsx)("div",{className:"homemain",children:Object(o.jsx)("img",{src:F,alt:"homeimg",className:"homeimg"})})},x=a(17),O=a.n(x),v=a(218),f=(a(142),a(89)),C=a(90),D=a(95),y=a(94),k=(a(143),function(e){Object(D.a)(a,e);var t=Object(y.a)(a);function a(){return Object(f.a)(this,a),t.apply(this,arguments)}return Object(C.a)(a,[{key:"render",value:function(){var e=this;return Object(o.jsx)("div",{className:"buttonmain",children:Object(o.jsx)("button",{className:"bttn",disabled:this.props.disabled,onClick:function(){return e.props.onClick()},children:this.props.text})})}}]),a}(n.a.Component)),S=a(194),N=a(215),w=a(198),A=a(196),E=a(197),I=a(195),W=a(97),z=a(185),P=a(188),T=a(190);var _=function(){var e=function(e){console.log("Me voy a la lista de usuarios")},t="1"===localStorage.getItem("role"),a="2"===localStorage.getItem("role"),i=Object(m.f)(),c=Object(r.useState)(""),u=Object(l.a)(c,2),d=u[0],j=u[1],b=Object(r.useState)(""),p=Object(l.a)(b,2),h=p[0],F=p[1],g=n.a.useState(!1),x=Object(l.a)(g,2),f=x[0],C=x[1],D=function(){C(!1)},y=/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(String(d).toLowerCase()),_=h.length>=8,L=Object(z.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))();return""!==localStorage.getItem("name")?Object(o.jsxs)("div",{className:"containerlogin",children:[Object(o.jsx)("h1",{className:"title",children:localStorage.getItem("name")+" "+localStorage.getItem("lastnm")}),Object(o.jsx)("p",{children:function(){var e=localStorage.getItem("role");return"1"===e?"Administrador":"2"===e?"Editor":"3"===e?"Revisor":""}()}),Object(o.jsx)(s.b,{to:"/login",children:Object(o.jsx)(k,{text:"Logout",disabled:!1,onClick:function(){localStorage.setItem("role",""),localStorage.setItem("name",""),localStorage.setItem("lastnm",""),console.log(localStorage.getItem("role")),console.log(localStorage.getItem("name")),console.log(localStorage.getItem("lastnm"))}})}),Object(o.jsx)(s.b,{to:"/artireded",children:Object(o.jsx)(k,{text:"Todos los Art\xedculos",disabled:!1,onClick:e})}),t&&Object(o.jsx)(s.b,{to:"/listausuarios",children:Object(o.jsx)(k,{text:"Ver Usuarios",disabled:!1,onClick:e})}),a&&Object(o.jsx)(s.b,{to:"/creararti",children:Object(o.jsx)(k,{text:"Crear Art\xedculo",disabled:!1,onClick:e})})]}):Object(o.jsxs)(P.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(T.a,{}),Object(o.jsxs)("div",{className:L.paper,children:[Object(o.jsx)(W.a,{component:"h1",variant:"h5",children:"Log in."}),Object(o.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Direcci\xf3n de correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){j(e.target.value)},helperText:y?"Correo electr\xf3nico v\xe1lido":"Correo electr\xf3nico inv\xe1lido",error:!y}),Object(o.jsx)(v.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){F(e.target.value)},helperText:_?"Contrase\xf1a v\xe1lida.":"Ingresa un formato v\xe1lido de contrase\xf1a.",error:!_}),Object(o.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:L.submit,text:"Login",onClick:function(){O.a.post("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/login",{email:d,password:h}).then((function(e){console.log(e.data),"error"===e.data.status?(console.log("No se pudo iniciar sesi\xf3n"),C(!0)):(console.log("Se pudo iniciar sesi\xf3n"),localStorage.setItem("token",e.token),localStorage.setItem("role",e.data[0].roles),localStorage.setItem("name",e.data[0].names),localStorage.setItem("lastnm",e.data[0].lastnames),console.log(localStorage.getItem("role")),console.log(localStorage.getItem("name")),console.log(localStorage.getItem("lastnm")),i.push("/"))}))},disabled:!(y&&_),children:"Iniciar Sesi\xf3n"}),Object(o.jsxs)(N.a,{open:f,onClose:D,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(I.a,{id:"alert-dialog-title",children:"Inicio de sesi\xf3n"}),Object(o.jsx)(A.a,{children:Object(o.jsx)(E.a,{id:"alert-dialog-description",children:"El usuario o la contrase\xf1a no coinciden o son incorrectos."})}),Object(o.jsx)(w.a,{children:Object(o.jsx)(S.a,{onClick:D,color:"primary",autoFocus:!0,children:"Aceptar"})})]})]})]})},L=a(203),B=a(202),R=a(201),q=a(200),V=a(199),$=Object(z.a)((function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}));var U=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=$();Object(r.useEffect)((function(){O.a.get("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/posts").then((function(e){console.log(e),i(e.data)})).catch((function(e){console.log(e)}),[])}));var s=Object(m.f)(),u=n.a.useState(""),d=Object(l.a)(u,2);return d[0],d[1],console.log(localStorage.getItem("name")),Object(o.jsxs)(n.a.Fragment,{children:[Object(o.jsx)(T.a,{}),Object(o.jsxs)("main",{children:[Object(o.jsx)("div",{className:c.heroContent,children:Object(o.jsxs)(P.a,{maxWidth:"sm",children:[Object(o.jsx)(W.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0,children:"BCB Educa"}),Object(o.jsx)(W.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0,children:"Something short and leading about the collection below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don't simply skip over it entirely."})]})}),Object(o.jsx)(P.a,{className:c.cardGrid,maxWidth:"md",children:Object(o.jsx)(V.a,{container:!0,spacing:4,children:a.map((function(e){return Object(o.jsx)(V.a,{item:!0,xs:12,sm:6,md:4,children:Object(o.jsxs)(q.a,{className:c.card,children:[Object(o.jsx)(R.a,{className:c.cardMedia,image:e.photo,title:"Image title"}),Object(o.jsxs)(B.a,{className:c.cardContent,children:[Object(o.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(o.jsx)(W.a,{children:e.shortDescription})]}),Object(o.jsx)(L.a,{children:Object(o.jsx)(S.a,{size:"small",color:"primary",onClick:function(){return s.push({pathname:"/artpg",data:{idPost:e.idPost,title:e.title,shortDescription:e.shortDescription,description:e.description,author:e.author,date:e.date,photo:e.photo,category:e.category,revised:e.revised,video:e.video}})},children:"Ver"})})]})},e)}))})})]}),Object(o.jsxs)("footer",{className:c.footer,children:[Object(o.jsx)(W.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Footer"}),Object(o.jsx)(W.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p",children:"Something here to give the footer a purpose!"})]})]})};a(144);var M=function(){var e="2"===localStorage.getItem("role"),t="3"===localStorage.getItem("role"),a=Object(m.f)(),r=Object(m.g)().data,n=r.title,i=r.description,c=r.shortDescription,l=r.author,u=r.date,d=r.category,j=r.revised,b=r.video,p=r.idPost,h="1"===j&&(e||t),F="2"===j&&(e||t),g="0"===j&&(e||t);return console.log(p),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"artmaincont",children:[Object(o.jsx)("h1",{className:"arttitle",children:n}),h&&Object(o.jsx)("h1",{className:"status",children:"Art\xedculo Aprobado"}),F&&Object(o.jsx)("strong",{className:"status",children:"Art\xedculo Rechazado"}),g&&Object(o.jsx)("strong",{className:"status",children:"Art\xedculo Sin Revisar"}),Object(o.jsx)("strong",{className:"author",children:l}),Object(o.jsxs)("strong",{className:"date",children:[" ",u]}),Object(o.jsxs)("strong",{className:"date",children:[" ",c]}),Object(o.jsxs)("strong",{className:"date",children:[" ",d]}),Object(o.jsx)("iframe",{title:"A video",width:"560",height:"315",src:b,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),Object(o.jsxs)("div",{className:"body",children:[" ",i]}),t&&Object(o.jsxs)(s.b,{to:"/artireded",children:[" ",Object(o.jsx)("button",{onClick:function(){O.a.put("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/posts",{idPost:p,title:n,shortDescription:c,description:i,author:l,date:Date().toLocaleString(),photo:"http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/storage/images/posts/serj.jpg",category:d,revised:"1",video:b}).then((function(e){console.log(e)}))},children:"Aprobar"})," "]}),t&&Object(o.jsxs)(s.b,{to:"/artireded",children:[" ",Object(o.jsx)("button",{onClick:function(){O.a.put("/webpage_backend/posts",{idPost:p,title:n,shortDescription:c,description:i,author:l,date:Date().toLocaleString(),photo:"http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/storage/images/posts/serj.jpg",category:d,revised:"2",video:b}).then((function(e){console.log(e)}))},children:"Rechazar"})," "]}),e&&Object(o.jsx)(s.b,{to:"/artireded",children:Object(o.jsx)(S.a,{size:"small",color:"primary",onClick:function(){O.a.delete("/webpage_backend/posts",{data:{idPost:p}}).then((function(e){console.log(e)}))},children:" Borrar Art\xedculo"})}),e&&Object(o.jsx)(S.a,{size:"small",color:"primary",onClick:function(){return a.push({pathname:"/editarti",data:{idPost:r.idPost,title:r.title,shortDescription:r.shortDescription,description:r.description,author:r.author,date:r.date,photo:r.photo,category:r.category,revised:r.revised,video:r.video}})},children:"Editar Articulo"})]})})},H=a(148),G=a(205),J=a(208),Y=a(207),K=a(204),Q=a(206),X=a(213),Z=a(209),ee=Object(z.a)({root:{width:"100%"},container:{maxHeight:440},formControl:{margin:10,minWidth:120},selectEmpty:{marginTop:10}});function te(){var e=""!==localStorage.getItem("role"),t=Object(r.useState)([]),a=Object(l.a)(t,2),i=a[0],c=a[1];Object(r.useEffect)((function(){O.a.get("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/users").then((function(e){console.log(e),c(e.data)})).catch((function(e){console.log(e)}),[])}));var u=Object(m.f)(),d=ee(),j=n.a.useState(0),b=Object(l.a)(j,2),p=b[0],h=b[1],F=n.a.useState(10),g=Object(l.a)(F,2),x=g[0],v=g[1];return Object(o.jsx)("div",{children:e?Object(o.jsxs)("div",{children:[Object(o.jsxs)(H.a,{className:d.root,children:[Object(o.jsx)(K.a,{className:d.container,children:Object(o.jsxs)(G.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(o.jsxs)(Q.a,{children:[Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"ID"}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"Nombre"}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"Apellido"}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"Email"}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"Roles"}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:"Opciones"})]}),Object(o.jsx)(J.a,{children:i.map((function(e){return Object(o.jsxs)(Z.a,{align:"center",style:{minWidth:100},children:[Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:e.idUser}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:e.names}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:e.lastnames}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:e.email}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:e.roles}),Object(o.jsx)(Y.a,{align:"center",style:{minWidth:100},children:Object(o.jsx)(k,{text:"Editar Usuario",disabled:!1,onClick:function(){return u.push({pathname:"/edicionusuario",data:{idUser:e.idUser,email:e.email,names:e.names,lastnames:e.lastnames,password:e.password,roles:e.roles}})}})})]})}))})]})}),Object(o.jsx)(X.a,{rowsPerPageOptions:[10,25,100],component:"div",rowsPerPage:x,page:p,onChangePage:function(e,t){h(t)},onChangeRowsPerPage:function(e){v(+e.target.value),h(0)}})]}),Object(o.jsx)(s.b,{to:"/crearusuario",children:Object(o.jsx)(k,{text:"Crear Usuario",disabled:!1,onClick:function(e){console.log("me voy a la siguiente")}})})]}):Object(o.jsx)("div",{children:" No Tiene Permisos"})})}a(145);var ae=a(216),oe=a(217),re=a(193),ne=a(212),ie=Object(z.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));var ce=function(){var e=Object(m.f)(),t=ie(),a=Object(r.useState)(""),i=Object(l.a)(a,2),c=i[0],s=i[1],u=Object(r.useState)(""),d=Object(l.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(""),h=Object(l.a)(p,2),F=h[0],g=h[1],x=Object(r.useState)(""),f=Object(l.a)(x,2),C=f[0],D=f[1],y=Object(r.useState)(""),k=Object(l.a)(y,2),z=k[0],_=k[1],L=Object(r.useState)(""),B=Object(l.a)(L,2),R=B[0],q=B[1],V=n.a.useState(!1),$=Object(l.a)(V,2),U=$[0],M=$[1],H=function(){M(!1)},G=/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(String(c).toLowerCase()),J=C.length>=8,Y=C===z,K=j.length>=2,Q=F.length>=2,X="0"!==R;return Object(o.jsxs)(P.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(T.a,{}),"1"===localStorage.getItem("role")?Object(o.jsxs)("div",{className:t.paper,children:[Object(o.jsx)(W.a,{component:"h1",variant:"h5",children:"Crear nuevo usuario"}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Direcci\xf3n de correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0,helperText:G?"Correo electr\xf3nico v\xe1lido":"Correo electr\xf3nico inv\xe1lido",error:!G,onChange:function(e){s(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"names",label:"Nombres",name:"names",autoComplete:"names",autoFocus:!0,helperText:K?"Nombre v\xe1lido":"Nombre inv\xe1lido",error:!G,onChange:function(e){b(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastnames",label:"Apellidos",name:"lastnames",autoComplete:"lastnames",autoFocus:!0,helperText:Q?"Apellidos v\xe1lidos":"Apellidos inv\xe1lidos",error:!Q,onChange:function(e){g(e.target.value)}}),Object(o.jsx)(v.a,{type:"password",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",label:"Contrase\xf1a",name:"password",autoComplete:"password",autoFocus:!0,helperText:J?"Contrase\xf1a v\xe1lida":"Contrase\xf1a inv\xe1lida",error:!J,onChange:function(e){D(e.target.value)}}),Object(o.jsx)(v.a,{type:"password",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password-re",label:"Repite la contrase\xf1a",name:"password-re",autoComplete:"password-re",autoFocus:!0,helperText:Y?"Las contrase\xf1as coinciden":"Las contrase\xf1as no coinciden",error:!Y,onChange:function(e){_(e.target.value)}}),Object(o.jsxs)(re.a,{variant:"outlined",className:t.formControl,children:[Object(o.jsx)(ae.a,{id:"demo-simple-select-outlined-label",children:"Rol"}),Object(o.jsxs)(ne.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:R,onChange:function(e){q(e.target.value)},label:"Rol",error:!X,children:[Object(o.jsx)(oe.a,{value:1,children:"Administrador"}),Object(o.jsx)(oe.a,{value:2,children:"Editor"}),Object(o.jsx)(oe.a,{value:3,children:"Revisor"})]})]}),Object(o.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,text:"Crear usuario",onClick:function(){O.a.post("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/users",{email:c,names:j,lastnames:F,password:C,roles:R}).then((function(t){"error"===t.data.status?(M(!0),console.log("No se pudo crear el usuario")):(console.log("Se pudo crear el usuario sesi\xf3n"),e.push("/listausuarios"))}))},disabled:!(G&&J&&Y&&K&&Q),children:"Crear usuario"}),Object(o.jsxs)(N.a,{open:U,onClose:H,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(I.a,{id:"alert-dialog-title",children:"Error al crear usuario"}),Object(o.jsx)(A.a,{children:Object(o.jsx)(E.a,{id:"alert-dialog-description",children:"Puede que hayan problemas con el servidor en este momento. Vuelve a intentarlo m\xe1s tarde."})}),Object(o.jsx)(w.a,{children:Object(o.jsx)(S.a,{onClick:H,color:"primary",autoFocus:!0,children:"Aceptar"})})]})]}):Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"No tiene permisos para realizar esta funci\xf3n"})})]})},le=(a(146),Object(z.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})));var se=function(){var e=Object(m.g)(),t=le(),a=e.data,i=Object(r.useState)(""),c=Object(l.a)(i,2),s=c[0],u=c[1],d=Object(r.useState)(""),j=Object(l.a)(d,2),b=j[0],p=j[1],h=Object(r.useState)(""),F=Object(l.a)(h,2),g=F[0],x=F[1],f=Object(r.useState)(""),C=Object(l.a)(f,2),D=C[0],y=C[1],k=Object(r.useState)(""),z=Object(l.a)(k,2),_=z[0],L=z[1],B=Object(r.useState)(""),R=Object(l.a)(B,2),q=R[0],V=R[1],$=n.a.useState(!1),U=Object(l.a)($,2),M=U[0],H=U[1],G=function(){H(!1)},J=/(?!.*\.{2})^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([\t]*\r\n)?[\t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([\t]*\r\n)?[\t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i.test(String(s).toLowerCase()),Y=D.length>=8,K=D===_,Q=b.length>=2,X=g.length>=2,Z="0"!==q;return Object(o.jsxs)(P.a,{component:"main",maxWidth:"xs",children:[Object(o.jsx)(T.a,{}),"1"===localStorage.getItem("role")?Object(o.jsxs)("div",{className:t.paper,children:[Object(o.jsx)(W.a,{component:"h1",variant:"h5",children:"Editar usuario"}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",defaultValue:a.email,label:"Direcci\xf3n de correo electr\xf3nico",name:"email",autoComplete:"email",autoFocus:!0,helperText:J?"Correo electr\xf3nico v\xe1lido":"Correo electr\xf3nico inv\xe1lido",error:!J,onChange:function(e){u(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"names",defaultValue:a.names,label:"Nombres",name:"names",autoComplete:"names",autoFocus:!0,helperText:Q?"Nombre v\xe1lido":"Nombre inv\xe1lido",error:!J,onChange:function(e){p(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"lastnames",defaultValue:a.lastnames,label:"Apellidos",name:"lastnames",autoComplete:"lastnames",autoFocus:!0,helperText:X?"Apellidos v\xe1lidos":"Apellidos inv\xe1lidos",error:!X,onChange:function(e){x(e.target.value)}}),Object(o.jsx)(v.a,{type:"password",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password",defaultValue:a.password,label:"Contrase\xf1a",name:"password",autoComplete:"password",autoFocus:!0,helperText:Y?"Contrase\xf1a v\xe1lida":"Contrase\xf1a inv\xe1lida",error:!Y,onChange:function(e){y(e.target.value)}}),Object(o.jsx)(v.a,{type:"password",color:"primary",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"password-re",label:"Repite la contrase\xf1a",name:"password-re",autoComplete:"password-re",autoFocus:!0,helperText:K?"Las contrase\xf1as coinciden":"Las contrase\xf1as no coinciden",error:!K,onChange:function(e){L(e.target.value)}}),Object(o.jsxs)(re.a,{variant:"outlined",className:t.formControl,children:[Object(o.jsx)(ae.a,{id:"demo-simple-select-outlined-label",children:"Rol"}),Object(o.jsxs)(ne.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:q,onChange:function(e){V(e.target.value)},label:"Rol",error:!Z,children:[Object(o.jsx)(oe.a,{value:1,children:"Administrador"}),Object(o.jsx)(oe.a,{value:2,children:"Editor"}),Object(o.jsx)(oe.a,{value:3,children:"Revisor"})]})]}),Object(o.jsx)(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,text:"Crear usuario",onClick:function(){O.a.put("/webpage_backend/users",{idUser:a.idUser,email:s,names:b,lastnames:g,password:D,roles:q}).then((function(e){console.log(e)}))},disabled:!(J&&Y&&K&&Q&&X),children:"Actulizar usuario"}),Object(o.jsxs)(N.a,{open:M,onClose:G,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(o.jsx)(I.a,{id:"alert-dialog-title",children:"Error al crear usuario"}),Object(o.jsx)(A.a,{children:Object(o.jsx)(E.a,{id:"alert-dialog-description",children:"Puede que hayan problemas con el servidor en este momento. Vuelve a intentarlo m\xe1s tarde."})}),Object(o.jsx)(w.a,{children:Object(o.jsx)(S.a,{onClick:G,color:"primary",autoFocus:!0,children:"Aceptar"})})]})]}):Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:"No tiene permisos para realizar esta funci\xf3n"})})]})},ue=a(210),de=a(211),je=Object(z.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",maxWidth:"80%",justifyContent:"center",alignItems:"center"},formControl:{margin:10,minWidth:120},media:{height:140},gridList:{width:"100%",height:"100%",padding:10},card:{padding:10,width:"100%",backgroundColor:e.palette.background.paper}}}));var be=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=je();Object(r.useEffect)((function(){O.a.get("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/posts").then((function(e){console.log(e),i(e.data)})).catch((function(e){console.log(e)}),[])}));var s=Object(m.f)(),u=n.a.useState(""),d=Object(l.a)(u,2),j=d[0],b=d[1],p=""!==localStorage.getItem("role");return Object(o.jsx)("div",{children:p?Object(o.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",background:"bleachedalmond"},children:[Object(o.jsx)(v.a,{label:"Buscar",color:"primary",variant:"filled",value:j,onChange:function(e){b(e.target.value)}}),Object(o.jsx)(ue.a,{cellHeight:300,className:c.gridList,cols:3,children:a.map((function(e){return Object(o.jsx)("div",{className:c.card,children:Object(o.jsxs)(q.a,{className:c.root,children:[Object(o.jsxs)(de.a,{className:c.card,children:[Object(o.jsx)(R.a,{className:c.media,image:e.photo,title:e.title}),Object(o.jsxs)(B.a,{children:[Object(o.jsx)(W.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.title}),Object(o.jsx)(W.a,{variant:"body2",color:"textSecondary",component:"p",children:e.shortDescription})]})]}),Object(o.jsx)(L.a,{children:Object(o.jsx)(S.a,{size:"small",color:"primary",onClick:function(){return s.push({pathname:"/artpg",data:{idPost:e.idPost,title:e.title,shortDescription:e.shortDescription,description:e.description,author:e.author,date:e.date,photo:e.photo,category:e.category,revised:e.revised,video:e.video}})},children:"Ver m\xe1s"})})]})})}))})]}):Object(o.jsx)("div",{children:" No Tiene Permisos"})})};a(88);var me=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],i=Object(r.useState)(""),c=Object(l.a)(i,2),u=c[0],d=c[1],j=Object(r.useState)(""),b=Object(l.a)(j,2),m=b[0],p=b[1],h=Object(r.useState)(""),F=Object(l.a)(h,2),g=F[0],x=F[1],f=new Date;return Object(o.jsx)("div",{children:"1"===localStorage.getItem("role")||"2"===localStorage.getItem("role")?Object(o.jsxs)("div",{className:"containerArtiEdit",children:[Object(o.jsx)("h1",{className:"title",children:"Nuevo Art\xedculo"}),Object(o.jsx)(v.a,{type:"text",label:"T\xedtulo",color:"primary",variant:"filled",onChange:function(e){n(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",label:"Descripci\xf3n Corta",color:"primary",variant:"filled",onChange:function(e){x(e.target.value)}}),Object(o.jsx)("h1",{className:"content",children:"Contenido"}),Object(o.jsx)(v.a,{id:"standard-textarea",label:"Contenido",placeholder:"Contenido",multiline:!0,fullWidth:!0,onChange:function(e){d(e.target.value)}}),Object(o.jsx)("h1",{className:"extras",children:"Extras"}),Object(o.jsx)(v.a,{type:"text",label:"Link de video",color:"primary",variant:"filled",height:"100%",onChange:function(e){p(e.target.value)}}),Object(o.jsx)(s.b,{to:"/artireded",children:Object(o.jsx)(k,{text:"Publicar",disabled:!1,onClick:function(){O.a.post("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/posts",{title:a,shortDescription:g,description:u,author:localStorage.getItem("name")+" "+localStorage.getItem("lastnm"),date:f.getFullYear()+"-"+(f.getMonth()+1)+"-"+f.getDate(),photo:"http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/storage/images/posts/serj.jpg",category:"economia",revised:"0",video:"https://www.youtube.com/embed/"+m.split("=")[1]}).then((function(e){console.log(e)}))}})})]}):Object(o.jsx)("div",{children:" No Tiene Permisos"})})};var pe=function(){var e=Object(m.g)().data,t=Object(r.useState)(e.title),a=Object(l.a)(t,2),n=a[0],i=a[1],c=Object(r.useState)(e.description),u=Object(l.a)(c,2),d=u[0],j=u[1],b=Object(r.useState)(e.video),p=Object(l.a)(b,2),h=p[0],F=p[1],g=Object(r.useState)(e.shortDescription),x=Object(l.a)(g,2),f=x[0],C=x[1],D=new Date;return localStorage.getItem("role"),Object(o.jsx)("div",{children:"1"===localStorage.getItem("role")||"2"===localStorage.getItem("role")?Object(o.jsxs)("div",{className:"containerArtiEdit",children:[Object(o.jsx)("h1",{className:"title",children:"Editando Art\xedculo"}),Object(o.jsx)(v.a,{type:"text",defaultValue:e.title,label:"T\xedtulo",color:"primary",variant:"filled",onChange:function(e){i(e.target.value)}}),Object(o.jsx)(v.a,{type:"text",label:"Descripci\xf3n Corta",defaultValue:e.shortDescription,color:"primary",variant:"filled",onChange:function(e){C(e.target.value)}}),Object(o.jsx)("h1",{className:"content",children:"Contenido"}),Object(o.jsx)(v.a,{id:"standard-textarea",label:"Contenido",placeholder:"Contenido",defaultValue:e.description,multiline:!0,fullWidth:!0,onChange:function(e){j(e.target.value)}}),Object(o.jsx)("h1",{className:"extras",children:"Extras"}),Object(o.jsx)(v.a,{type:"text",label:"Link de video",defaultValue:e.video,color:"primary",variant:"filled",height:"100%",onChange:function(e){F(e.target.value),console.log(h.split("=")[1])}}),Object(o.jsx)(s.b,{to:"/artireded",children:Object(o.jsx)(k,{text:"Actualizar",disabled:!1,onClick:function(){O.a.put("http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/posts",{idPost:e.idPost,title:n,shortDescription:f,description:d,author:localStorage.getItem("name")+" "+localStorage.getItem("lastnm"),date:D.getFullYear()+"-"+(D.getMonth()+1)+"-"+D.getDate(),photo:"http://skynet.lp.upb.edu/~pbruckner18/webpage_backend/storage/images/posts/serj.jpg",category:"economia",revised:"0",video:"https://www.youtube.com/embed/"+h.split("=")[1]}).then((function(e){console.log(e)}))}})})]}):Object(o.jsx)("div",{children:" No Tiene Permisos"})})};var he=function(){return Object(o.jsx)("div",{className:"maincont",children:Object(o.jsxs)(s.a,{children:[Object(o.jsx)(h,{}),Object(o.jsx)(b,{}),Object(o.jsxs)(m.c,{children:[Object(o.jsx)(m.a,{path:"/",exact:!0,component:g}),Object(o.jsx)(m.a,{path:"/login",component:_}),Object(o.jsx)(m.a,{path:"/articulos",component:U}),Object(o.jsx)(m.a,{path:"/artpg",component:M}),Object(o.jsx)(m.a,{path:"/listausuarios",component:te}),Object(o.jsx)(m.a,{path:"/crearusuario",component:ce}),Object(o.jsx)(m.a,{path:"/edicionusuario",component:se}),Object(o.jsx)(m.a,{path:"/artireded",component:be}),Object(o.jsx)(m.a,{path:"/creararti",component:me}),Object(o.jsx)(m.a,{path:"/editarti",component:pe})]})]})})};c.a.render(Object(o.jsx)(he,{}),document.getElementById("root"))},88:function(e,t,a){}},[[147,1,2]]]);
//# sourceMappingURL=main.dd9ff634.chunk.js.map